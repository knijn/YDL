NOTE: This is currently working, but will no longer be updated

# YT-DLP Launcher

YDL, a Simple GUI Launcher for [yt-dlp](https://github.com/yt-dlp/yt-dlp) on Windows using [AHK](https://www.autohotkey.com).

## Prerequisites

* [AHK1.1.\*](https://www.autohotkey.com/download)

#### Optional
* [ffmpeg](https://www.gyan.dev/ffmpeg/builds) - Required for mergring audio and video files together, extracting audio, embedding metadata etc.
* [aria2c](https://github.com/aria2/aria2/releases) - Provides faster downloads for all non-DASH videos.

## How to Use

1. Install [AHK1.1.\*](https://www.autohotkey.com/download)
1. Download the [optional](#optional) prerequisites if needed.
1. Download either the entire repository or just [update.ahk](update.ahk) and place the file(s) in an empty folder.
1. Either make sure the all the prerequisites (except AHK) are available in `PATH` variable, or copy them to the script directory.
1. Run [update.ahk](update.ahk) with AHK. This will download both the script and `yt-dlp` to the same folder.
1. Run [YDL.ahk](ydl.ahk) with AHK.

## Profiles

Any **.conf** file present in the script directory will be available as a profile. For more information on `yt-dlp` configuration files, refer to the [official documentation](https://github.com/yt-dlp/yt-dlp#configuration). 

The script makes two additional variables available in these configuration files:
* `%ydl_dir%` which expands to the **script directory** AND
* `%ydl_home%` which expands to the **path given in the gui**.

Any output path given in the profile **MUST NOT** be an absolute path. If it is, the file will be downloaded to the path given in the profile irrespective of the path specified in the GUI.

It is recomended that you make your own profiles instead of editing the exising ones since updates will reset the profile back to default. <!--(This issue will be fixed in a later version)-->

## Configuration

All settings are saved in the file [ydl.ahk.ini](ydl.ahk.ini). The settings are read when the script starts and saved everytime a download sucessfully launches. All options that is to be passed into `yt-dlp` directly must be properly escaped.

### \[Options\]

Key | Saves the last used value of
------------ | -------------
**prof**|[Profile](#profiles)
**res**|Resolution
**sign**|Sign prefixing Resolution (`>=`/`<=`)
**path**|Path
**opts**|[Options](https://github.com/yt-dlp/yt-dlp#options) to be passed to `yt-dlp`


### \[Hidden\]

These options are not changable in the GUI.

Key | Description
------------ | -------------
**log**| Whether to log the command to [ydl.ahk.log](ydl.ahk.log). (`1`=Log, `0`=Don't log)
**update**| Whether to update yt-dlp automatically. (`1`=Update, `0`=Don't update)
**opts**| These [options](https://github.com/yt-dlp/yt-dlp#options) will be additionally passed to `yt-dlp`. Only the options given in **\[Options\]/opts** may override these. **PS:** It is now recommended to create a `yt-dlp.conf` file for your common options instead. See [portable config](https://github.com/yt-dlp/yt-dlp#configuration)

## FAQ

#### What is the field called Options?

This field accepts all the same [options](https://github.com/yt-dlp/yt-dlp#options) as `yt-dlp`. These options override the settings generated by the script which in turn overrides the options in the [profile](#profiles).

#### The download never completes.

The download process is wrapped in [retry.cmd](retry.cmd) which will keep retrying the download until `yt-dlp` exits without any error. So, if any of the videos is not downloadable (due to the video being removed/private/age-gated, url being wrong, etc), the download will never complete. You can simply break/close the terminal window to stop the download process.

#### Can I use youtube-dl/youtube-dlc with this?

The format selection and output path are set by the script using `-S` and `-P` options of `yt-dlp`. Since these options don't exist in `youtube-dl`, it cannot be used as a replacement.

#### How do I update `YDL`?

To update the script, simply run [update.ahk](update.ahk).
